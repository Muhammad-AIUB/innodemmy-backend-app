{
  "baseUrl": "http://localhost:3000",
  "apis": {
    "emailOtpFlow": {
      "sendOtp": {
        "method": "POST",
        "endpoint": "/auth/send-otp",
        "headers": {
          "Content-Type": "application/json"
        },
        "payload": {
          "email": "user@example.com"
        },
        "response": {
          "message": "OTP sent successfully",
          "otp": "123456"
        }
      },
      "verifyOtp": {
        "method": "POST",
        "endpoint": "/auth/verify-otp",
        "headers": {
          "Content-Type": "application/json"
        },
        "payload": {
          "email": "user@example.com",
          "otp": "123456"
        },
        "response": {
          "signupToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        }
      },
      "completeSignup": {
        "method": "POST",
        "endpoint": "/auth/complete-signup",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer YOUR_SIGNUP_TOKEN"
        },
        "payload": {
          "name": "John Doe",
          "password": "SecurePass123!",
          "confirmPassword": "SecurePass123!",
          "phone": "1234567890"
        },
        "response": {
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "user": {
            "id": "uuid",
            "email": "user@example.com",
            "name": "John Doe",
            "role": "user"
          }
        }
      }
    },
    "googleOAuthFlow": {
      "initiateGoogleAuth": {
        "method": "GET",
        "endpoint": "/auth/google",
        "note": "Open in browser - redirects to Google login",
        "response": "Redirects to Google OAuth page"
      },
      "googleCallback": {
        "method": "GET",
        "endpoint": "/auth/google/callback",
        "note": "Automatically called by Google after login",
        "response": {
          "googleToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        }
      },
      "addEmail": {
        "method": "POST",
        "endpoint": "/auth/google/add-email",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer YOUR_GOOGLE_TOKEN"
        },
        "payload": {
          "email": "user@example.com"
        },
        "response": {
          "message": "Verification code sent",
          "verificationCode": "123456"
        }
      },
      "verifyEmail": {
        "method": "POST",
        "endpoint": "/auth/google/verify-email",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer YOUR_GOOGLE_TOKEN"
        },
        "payload": {
          "code": "123456"
        },
        "response": {
          "message": "Email verified. Proceed to complete-signup with password",
          "requiresPassword": true
        }
      },
      "completeSignup": {
        "method": "POST",
        "endpoint": "/auth/google/complete-signup",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer YOUR_GOOGLE_TOKEN",
          "x-user-email": "user@example.com",
          "x-verification-code": "123456"
        },
        "payload": {
          "fullName": "John Doe",
          "password": "SecurePass123!",
          "confirmPassword": "SecurePass123!"
        },
        "response": {
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "user": {
            "id": "uuid",
            "email": "user@example.com",
            "name": "John Doe",
            "role": "user"
          }
        }
      }
    },
    "login": {
      "login": {
        "method": "POST",
        "endpoint": "/auth/login",
        "headers": {
          "Content-Type": "application/json"
        },
        "payload": {
          "emailOrName": "user@example.com",
          "password": "SecurePass123!"
        },
        "response": {
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "user": {
            "id": "uuid",
            "email": "user@example.com",
            "name": "John Doe",
            "role": "user"
          }
        }
      },
      "refresh": {
        "method": "POST",
        "endpoint": "/auth/refresh",
        "headers": {
          "Content-Type": "application/json"
        },
        "payload": {
          "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        },
        "response": {
          "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        }
      },
      "logout": {
        "method": "POST",
        "endpoint": "/auth/logout",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Bearer YOUR_ACCESS_TOKEN"
        },
        "payload": {
          "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        },
        "response": {
          "message": "Logged out successfully"
        }
      }
    },
    "health": {
      "check": {
        "method": "GET",
        "endpoint": "/health",
        "response": {
          "status": "ok",
          "timestamp": "2025-12-22T00:00:00.000Z",
          "uptime": 12345,
          "checks": {
            "database": { "status": "healthy" },
            "redis": { "status": "healthy" },
            "memory": { "status": "healthy" }
          }
        }
      },
      "readiness": {
        "method": "GET",
        "endpoint": "/health/ready",
        "response": {
          "status": "ready"
        }
      },
      "liveness": {
        "method": "GET",
        "endpoint": "/health/live",
        "response": {
          "status": "alive",
          "timestamp": "2025-12-22T00:00:00.000Z"
        }
      }
    }
  },
  "notes": {
    "rateLimit": "5 requests per minute per IP",
    "tokenExpiration": {
      "signupToken": "15 minutes",
      "googleToken": "30 minutes",
      "accessToken": "15 minutes",
      "refreshToken": "7 days"
    },
    "otpExpiration": "5 minutes",
    "maxOtpAttempts": 3,
    "productionReady": {
      "database": "Connection pooling enabled, migrations configured",
      "authentication": "Refresh token flow implemented",
      "security": "Strict CORS, rate limiting, bcrypt hashing",
      "email": "BullMQ with retry/backoff strategy",
      "healthChecks": "Available at /health, /health/ready, /health/live",
      "gracefulShutdown": "SIGTERM/SIGINT handlers configured"
    }
  }
}
